---
title: Pytest入门和进阶
author: chaizz
date: 2023-7-29
tags: pytest
categories: pytest
photos: ["https://origin.chaizz.com/pytest_logo_curves.svg"]

---

​    

<!--more-->



> Pytest 是一个基于 Python 的测试框架，它提供了一种简洁优雅的方式来编写测试代码。在软件开发中，测试是非常重要的环节，它有助于验证代码的正确性、稳定性和可靠性。Pytest 框架的出现使得编写和执行测试变得更加简单和高效。
>
> 
>
> 为什么我们需要测试？在软件开发过程中，我们经常会遇到各种各样的需求变更、bug修复、功能扩展等情况，这些变动可能会对现有的代码产生意想不到的影响。而如果没有足够的测试覆盖，这些变动可能会导致代码的错误、功能失效或者性能下降。测试的作用就在于通过运行一系列的测试用例来验证代码的正确性，确保它能够按照预期的方式工作。测试能够帮助我们发现和解决问题，提高代码的质量和可维护性。
>
> 
>
> Pytest 框架相比其他测试框架有以下优势：
>
> 1. 简洁优雅：Pytest 使用简洁的语法和强大的断言库，使得编写测试代码更加易读、易维护。相比其他测试框架，Pytest 的测试用例更简洁、更清晰。
> 2. 自动化发现测试：Pytest 可以自动发现项目中的测试函数和测试类，无需手动编写测试套件。只需要按照规定的命名规则来命名测试文件和测试函数，Pytest 就能自动识别并执行。
> 3. 丰富的插件生态系统：Pytest 提供了丰富的插件机制，可以通过安装插件来扩展测试框架的功能。这些插件可以提供各种功能，如生成测试报告、代码覆盖率检查、性能测试等。
> 4. 强大的断言库：Pytest 提供了易于使用的断言库，可以快速编写断言语句来验证代码的预期行为。断言库具有灵活的表达能力，可以进行多种类型的断言，包括比较值、判断异常等。
>
> 总之，Pytest 是一个功能强大、易用且灵活的测试框架，能够帮助开发人员编写高质量的测试代码，提高软件的质量和可靠性。无论是单元测试、集成测试还是端到端测试，Pytest 都能够满足各种测试需求，并且减少测试代码的编写和维护工作量。



*以上序使用ChatGPT输出*  



1、测试的基本原理

2、测试的基本语法

3、测试前后的准备和善后工作

3.1 steup和teardown

3.2 fixture

4、测试报告allure

​	配置报告输出的位置



Pytest中的 steup 和 teardown 用法，分别有四种级别：

- 模块级别：在Python的一个模块级别执行，开始于模块的始末，只执行一次。
- 函数级别：对每个函数用例生效。
- 类级别：只在一个类的前后运行一次。
- 方法级别：开始于方法始末。





小Tips:

在Pycharm中使用`pytest.main()` 会将当前文件的所有测试用例全部执行。

```python
import pytest


if __name__ == __main__:
    pytest.main()
```



